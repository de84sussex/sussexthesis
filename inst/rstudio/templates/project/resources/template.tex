% This is the Sussex LaTeX thesis template, modified from the Reed College LaTeX thesis template. Most of the work for the document class was done by Sam Noble (SN), as well as this template. Later comments etc. by Ben Salzberg (BTS). Additional restructuring and APA support by Jess Youngberg (JY) & Danielle Evans.


%%
%% Preamble
%%

\documentclass[12pt,oneside]{sussexthesis}
\usepackage{geometry}
 \geometry{a4paper,
 left=4cm,
 top=2.5cm,
 right=2cm,
 bottom=2.5cm
 }

\usepackage{fancyhdr}
\usepackage{graphicx,latexsym}
\usepackage{amsmath}
\usepackage{amssymb,amsthm}
\usepackage{longtable,booktabs,setspace}
\doublespacing
\usepackage[hyphens]{url}
% Added by CII
\usepackage{hyperref}
\usepackage{lmodern}
\usepackage{float}
\floatplacement{figure}{H}
% Thanks, @Xyv
\usepackage{calc}
% End of CII addition
\usepackage{rotating}

\renewcommand{\headrulewidth}{0pt}



% DE
% Table formatting
\usepackage{lscape}
% \usepackage[counterclockwise]{rotating}   % Landscape page setup for large tables
\usepackage{multirow}		% Table styling
\usepackage{tabularx}		% Control Column width
\usepackage[flushleft]{threeparttable}	% Allows for three part tables with a specified notes section
\usepackage{threeparttablex}            % Lets threeparttable work with longtable

% Create new environments so endfloat can handle them
% \newenvironment{ltable}
%   {\begin{landscape}\begin{center}\begin{threeparttable}}
%   {\end{threeparttable}\end{center}\end{landscape}}

% DE changes table spacing
\renewcommand{\arraystretch}{1.5}

\newenvironment{lltable}{\begin{landscape}\begin{center}\begin{ThreePartTable}}{\end{ThreePartTable}\end{center}\end{landscape}}


% Enables adjusting longtable caption width to table width
% Solution found at http://golatex.de/longtable-mit-caption-so-breit-wie-die-tabelle-t15767.html
\makeatletter
\newcommand\LastLTentrywidth{1em}
\newlength\longtablewidth
\setlength{\longtablewidth}{1in}
\newcommand{\getlongtablewidth}{\begingroup \ifcsname LT@\roman{LT@tables}\endcsname \global\longtablewidth=0pt \renewcommand{\LT@entry}[2]{\global\advance\longtablewidth by ##2\relax\gdef\LastLTentrywidth{##2}}\@nameuse{LT@\roman{LT@tables}} \fi \endgroup}



% Use ref for internal links
\renewcommand{\hyperref}[2][???]{\autoref{#1}}
\def\chapterautorefname{Chapter}
\def\sectionautorefname{Section}
\def\subsectionautorefname{Subsection}

\usepackage{caption}
\captionsetup{width=5in}

% choose your font, other fonts are available like times, bookman, charter, palatino
\usepackage{mathptmx}

% Syntax highlighting #22
$if(highlighting-macros)$
  $highlighting-macros$
$endif$


\title{$title$}
\author{$author$}
\date{$date$}
\institution{$institution$}
\degree{$degree$}

%%% Copied from knitr
%% maxwidth is the original width if it's less than linewidth
%% otherwise use linewidth (to make sure the graphics do not exceed the margin)
\makeatletter
\def\maxwidth{ %
  \ifdim\Gin@nat@width>\linewidth
    \linewidth
  \else
    \Gin@nat@width
  \fi
}
\makeatother

% From {rticles}
$if(csl-refs)$
\newlength{\csllabelwidth}
\setlength{\csllabelwidth}{3em}
\newlength{\cslhangindent}
\setlength{\cslhangindent}{36pt}
% for Pandoc 2.8 to 2.10.1
\newenvironment{cslreferences}%
  {$if(csl-hanging-indent)$\setlength{\parindent}{0pt}%
  \everypar{\setlength{\hangindent}{\cslhangindent}}\ignorespaces$endif$}%
  {\par}
% For Pandoc 2.11+
% As noted by @mirh [2] is needed instead of [3] for 2.12
\newenvironment{CSLReferences}[2] % #1 hanging-ident, #2 entry spacing
 {% don't indent paragraphs
  \setlength{\parindent}{0pt}
  % turn on hanging indent if param 1 is 1
  \ifodd #1 \everypar{\setlength{\hangindent}{\cslhangindent}}\ignorespaces\fi
  % set entry spacing
  \ifnum #2 > 0
  \setlength{\parskip}{#2\baselineskip}
  \fi
 }%
 {}
\usepackage{calc} % for calculating minipage widths
\newcommand{\CSLBlock}[1]{#1\hfill\break}
\newcommand{\CSLLeftMargin}[1]{\parbox[t]{\csllabelwidth}{#1}}
\newcommand{\CSLRightInline}[1]{\parbox[t]{\linewidth - \csllabelwidth}{#1}}
\newcommand{\CSLIndent}[1]{\hspace{\cslhangindent}#1}
$endif$

\renewcommand{\contentsname}{Table of Contents}
% End of CII addition

\setlength{\parskip}{0pt}

% Added by CII
$if(space_between_paragraphs)$
  %\setlength{\parskip}{\baselineskip}
  \usepackage[parfill]{parskip}
$endif$

\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}

\Abstract{
$abstract$
}

\Acknowledgements{
$acknowledgements$
}

\Declaration{
$declaration$
}



$for(header-includes)$
	$header-includes$
$endfor$


\linespread{2}

\usepackage{titlesec}


% DE change heading styles here

\titleformat{\chapter}[display]
  {\normalsize\bfseries\filcenter}{\chaptertitlename\ \thechapter}{20pt}{\normalsize}
\titlespacing*{\chapter}
  {0pt}{0pt}{20pt}

\titleformat{\section}{\normalfont\normalsize\bfseries\filcenter}{\thesection}{1em}{} %2# 

\titleformat{\subsection}{\normalfont\normalsize\bfseries}{\thesubsection}{1em}{} %3# 

\titleformat{\subsubsection}[runin]{\normalfont\normalsize\bfseries}{\thesubsubsection}{1em}{} %4#
\titlespacing{\subsubsection}
  {36pt}{0pt}{10pt}

\titleformat{\paragraph}[runin]{\normalfont\normalsize\bfseries\itshape}{\theparagraph}{1em}{}%5#
\titlespacing{\paragraph}
  {36pt}{0pt}{10pt}

\titleformat{\subparagraph}[runin]{\normalfont\normalsize\itshape}{\thesubparagraph}{1em}{} %6#
\titlespacing{\subparagraph}
  {36pt}{0pt}{10pt}

\usepackage{indentfirst}


%%
%% End Preamble
%%
%


\begin{document}

\frontmatter % this stuff will be roman-numbered
\pagestyle{empty} % this removes page numbers from the frontmatter


$if(title)$
  \maketitle
$endif$

\raggedright

\setlength{\parindent}{36pt}

$if(abstract)$
\begin{abstract}
    $abstract$
    
\end{abstract}
$endif$

$if(acknowledgements)$
  \begin{acknowledgements}
    $acknowledgements$
  \end{acknowledgements}
$endif$

$if(declaration)$
  \begin{declaration}
    $declaration$
  \end{declaration}
$endif$


$if(toc)$
  \hypersetup{hidelinks}
  \setcounter{secnumdepth}{0}
  \setcounter{tocdepth}{1}
  \tableofcontents
$endif$

$if(lot)$
  \listoftables
$endif$

$if(lof)$
  \listoffigures
$endif$

\mainmatter % here the regular arabic numbering starts
\pagestyle{fancyplain} % turns page numbering back on


$body$


% Index?

\end{document}
